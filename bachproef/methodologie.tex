%%=============================================================================
%% Methodologie
%%=============================================================================

\chapter{\IfLanguageName{dutch}{Methodologie}{Methodology}}%
\label{ch:methodologie}

%% TODO: In dit hoofstuk geef je een korte toelichting over hoe je te werk bent
%% gegaan. Verdeel je onderzoek in grote fasen, en licht in elke fase toe wat
%% de doelstelling was, welke deliverables daar uit gekomen zijn, en welke
%% onderzoeksmethoden je daarbij toegepast hebt. Verantwoord waarom je
%% op deze manier te werk gegaan bent.
%% 
%% Voorbeelden van zulke fasen zijn: literatuurstudie, opstellen van een
%% requirements-analyse, opstellen long-list (bij vergelijkende studie),
%% selectie van geschikte tools (bij vergelijkende studie, "short-list"),
%% opzetten testopstelling/PoC, uitvoeren testen en verzamelen
%% van resultaten, analyse van resultaten, ...
%%
%% !!!!! LET OP !!!!!
%%
%% Het is uitdrukkelijk NIET de bedoeling dat je het grootste deel van de corpus
%% van je bachelorproef in dit hoofstuk verwerkt! Dit hoofdstuk is eerder een
%% kort overzicht van je plan van aanpak.
%%
%% Maak voor elke fase (behalve het literatuuronderzoek) een NIEUW HOOFDSTUK aan
%% en geef het een gepaste titel.

Het onderzoek begint met een uitgebreide literatuurstudie over back-upstrategieën, ransomware-resistente opslag, en immutable storage. Hierbij wordt een overzicht gegeven van de state of the art, waarbij de nieuwste technieken en strategieën voor databeveiliging in kaart worden gebracht. Deze literatuurstudie biedt de fundamentele kennis die nodig is om het bestaande back-upplan te analyseren en geeft een goed beeld van hoe organisaties effectief hun back-upsystemen kunnen beveiligen. In de tweede fase zal de huidige back-upstrategie van Forvis Mazars worden geanalyseerd en verbeterd. Momenteel wordt er elke dag één volledige back-up door Azure automatisch uitgevoerd, wat zorgt voor een basisbeveiliging. Door de bestaande methode te optimaliseren, wordt zowel de veiligheid als de efficiëntie van het back-upproces verhoogd.
\subsection{Requirements-analyse}
\subsubsection{1. Must Have (Essentiële vereisten)}
Deze vereisten zijn cruciaal voor de verbetering van de back-upstrategie en moeten absoluut worden geïmplementeerd om een werkbare en veilige oplossing te garanderen:

\begin{itemize}
    \item \textbf{Regelmatige en betrouwbare automatische back-ups:} Er moet gezorgd worden voor de implementatie van een automatische back-upstrategie die dagelijks volledige back-ups van de databases uitvoert. Dit moet volledig geïntegreerd zijn in de bestaande Azure-omgeving van Forvis Mazars, zodat er altijd een up-to-date herstelpunt beschikbaar is bij systeemfouten of cyberaanvallen.
    
    \item \textbf{Beveiliging tegen ransomware:} De vernieuwde back-upstrategie moet bestand zijn tegen ransomware, wat betekent dat back-ups moeten worden beschermd tegen externe aanvallen die de back-ups zelf kunnen infecteren. Dit vereist de implementatie van technieken zoals \textit{immutable storage}, zodat back-ups niet gewijzigd of verwijderd kunnen worden tijdens een ransomware-aanval.
    
    \item \textbf{Versiebeheer van back-ups:} Het invoeren van versiebeheer voor back-ups maakt het mogelijk om verschillende versies van data op te slaan. Dit kan nuttig zijn voor het herstellen van data naar een specifieke eerdere versie (bijvoorbeeld na een fout die niet meteen werd opgemerkt).
    
    \item \textbf{Herstelcapaciteit (Restore from backup):} Het herstelproces moet efficiënt en snel kunnen worden uitgevoerd vanuit de back-ups. De back-upstrategie moet testen hoe snel en betrouwbaar de systemen kunnen worden hersteld in geval van dataverlies.
\end{itemize}

\subsubsection{2. Should Have (Aanbevolen vereisten)}
Deze vereisten dragen bij aan de effectiviteit van de back-upstrategie, maar zijn niet strikt noodzakelijk voor de eerste versie van de oplossing:

\begin{itemize}
    \item \textbf{Differentiële en incrementele back-ups:} Hoewel volledige back-ups cruciaal zijn, moeten incrementele en/of differentiële back-ups overwogen worden om de belasting op de opslagcapaciteit en netwerkinfrastructuur te verminderen. Dit kan bijdragen aan de optimalisatie van de back-upstrategie door slechts gewijzigde gegevens te back-uppen in plaats van de volledige dataset.
    
    \item \textbf{Documentatie:} Er moet gedetailleerde documentatie beschikbaar zijn over het back-upproces, de gebruikte technieken, en de herstelprocedures.
    
\end{itemize}

\subsubsection{3. Could Have (Wenselijke vereisten)}
Deze vereisten kunnen de back-upstrategie verder verbeteren, maar kunnen in eerste instantie worden uitgesteld als er beperkingen zijn in tijd of middelen:

\begin{itemize}
    \item \textbf{Geautomatiseerd herstelproces:} Een geautomatiseerd herstelproces kan worden ontwikkeld, zodat de systemen automatisch kunnen worden hersteld in geval van dataverlies, wat de downtime minimaliseert.
\end{itemize}

\subsubsection{4. Won't Have (Niet noodzakelijke vereisten)}
Deze vereisten worden niet opgenomen in de huidige verbeteringsronde van de back-upstrategie vanwege beperkingen in tijd, middelen, of prioriteit:

\begin{itemize}
    \item \textbf{Multi-cloud back-upoplossingen:} Hoewel multi-cloud back-upstrategieën voordelen kunnen bieden, is het implementeren van een complexe multi-cloud-oplossing voor Forvis Mazars op dit moment niet noodzakelijk, aangezien Azure al gebruikt wordt voor back-ups en de primaire focus ligt op het verbeteren van de huidige strategie binnen de Azure-omgeving.
    
    \item \textbf{Fysieke back-ups op externe schijven:} Aangezien Forvis Mazars voornamelijk gebruik maakt van een cloud-gebaseerde infrastructuur voor back-ups, sluit het gebruik van fysieke externe schijven of on-premise hardware-oplossingen momenteel niet aan bij hun threatmodel en operationele behoeften. Hoewel dergelijke oplossingen voordelen kunnen bieden in specifieke scenario's, wegen deze voor Forvis Mazars niet op tegen de extra complexiteit en kosten die ermee gepaard gaan.
\end{itemize}

\subsubsection{Conclusie}
Deze requirementsanalyse geeft de noodzakelijke vereisten voor de verbetering van de back-upstrategie van Forvis Mazars weer, met een focus op beveiliging tegen ransomware, automatisering van de back-ups, en het herstelproces. Door de integratie van automatisering, immutable storage en verbeterde back-uptechnieken zal Forvis Mazars in staat zijn om zowel de veiligheid als de efficiëntie van hun gegevensbeheer te verhogen. Verdere verbeteringen, zoals incrementele back-ups en cloud-integratie, kunnen op een later moment worden geïmplementeerd, afhankelijk van de beschikbare middelen en de prioriteiten van het bedrijf.

\subsection{Proof-Of-Concept}
In de Proof-of-Concept (PoC) is een virtuele omgeving opgezet met behulp van VirtualBox en Vagrant om een testomgeving te creëren. Binnen deze omgeving werden drie virtuele machines geconfigureerd: een primaire server die als databaseserver functioneert, een back-upserver voor het opslaan van de back-ups, en een attacker VM voor het simuleren van een ransomware-aanval. Het doel van deze opzet was om aan te tonen hoe het implementeren van immutable storage kan helpen bij het beschermen van belangrijke data tegen ransomware-aanvallen.

Voor de back-upstrategie werd gebruik gemaakt van een combinatie van MySQL en BorgBackup. Op de primaire server werd een testdatabase aangemaakt en deze werd geëxporteerd naar een back-upbestand. Dit back-upbestand werd vervolgens veilig opgeslagen in een Borg-repository op de back-upserver. De back-updirectory werd beschermd met het Linux-commando \texttt{chattr}, waarmee het immutable-attribuut werd ingesteld. Dit attribuut voorkomt dat bestanden in de back-updirectory kunnen worden gewijzigd of verwijderd en simuleert een vorm van immutable storage.

Om een ransomware-aanval na te bootsen, werd een Bash-script gebruikt dat de bestandsnamen van de back-ups aanpaste en de bestanden versleutelde. Dit simuleerde een malware-aanval. Daarnaast werd de actieve database onbruikbaar gemaakt om te demonstreren dat deze niet meer bruikbaar is na een aanval, terwijl de immutabele back-ups intact bleven en als herstelpunt konden dienen.

Nadien werd ook het herstelproces van de back-ups getest. Een back-up werd vanuit de Borg-repository teruggehaald en gebruikt om de oorspronkelijke database succesvol te herstellen. Dit proces demonstreert de integriteit van de back-ups.

Deze methode biedt een praktische Proof-of-Concept waarmee kan worden aangetoond hoe immutable storage kan bijdragen aan de beveiliging en integriteit van back-ups in een productieomgeving.