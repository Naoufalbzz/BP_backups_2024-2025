\chapter{Analyse van de huidige back-upstrategie bij Forvis Mazars}
\section{Huidige back-upstrategie}
De huidige back-upstrategie van Forvis Mazars maakt gebruik van een Azure-omgeving voor het beheer van hun databases. Binnen deze omgeving draaien twee verschillende databaseservers: Azure Database for PostgreSQL flexible server en Azure Database for MySQL flexible server. Deze servers bevatten meerdere databases die door de organisatie worden beheerd. De back-upstrategie van het bedrijf omvat twee verschillende methoden voor het maken van back-ups, namelijk automatische full back-ups door Azure zelf en handmatige back-ups per database, deze manuele back-ups worden niet frequent genoeg uitgevoerd.

De automatische full back-ups worden dagelijks uitgevoerd door de ingebouwde Azure-functie voor databasebeheer. Deze back-ups zijn servergebaseerd, wat betekent dat een volledige back-up van de server wordt genomen. Dit heeft als nadeel dat bij een fout in een specifieke database, zoals Database A, alle andere databases op dezelfde server, zoals Database B en Database C, eveneens moeten worden hersteld. Dit kan onpraktisch zijn, omdat het terugzetten van een database die geen problemen had leidt tot onnodig verlies van gegevens of verstoorde bedrijfsprocessen.

Voor de handmatige back-ups is een Python-script ontwikkeld. Dit script wordt uitgevoerd op een pod binnen het Kubernetes-cluster van de organisatie. Het doel van dit script is om op verzoek een back-up te maken van een specifieke database, hetzij een PostgreSQL- of MySQL-database, en deze op te slaan in een Azure Storage Account. Het voordeel van deze aanpak is dat het script per database werkt en daarmee gerichter is dan de servergebaseerde automatische back-up. Echter, de handmatige uitvoering van dit script werd niet geautomatiseerd in de huidige omgeving. Dit leidde tot een onbetrouwbare uitvoering, omdat de back-ups afhankelijk waren van de handmatige interventie van medewerkers. Dit zorgt voor incomplete back-ups.

Een ander belangrijk punt is dat de specifieke duur van een herstel uit een back-up onbekend is, aangezien dit proces nog niet is getest. Hoewel er regelmatig back-ups worden gemaakt, is er geen duidelijk inzicht in hoeveel tijd het kost om een database volledig te herstellen na een incident. Dit gebrek aan testervaring met het herstelproces kan problematisch zijn, aangezien de snelheid van herstel cruciaal is voor het minimaliseren van downtime en het waarborgen van de bedrijfscontinuïteit.

De opslag van de gemaakte back-ups vindt plaats in een Azure Storage Account, waarvoor toegang strikt gereguleerd is. Alleen gebruikers met de juiste machtigingen, via een specifiek Service Principal binnen het interne netwerk van het bedrijf, kunnen de back-ups benaderen. Deze benadering biedt een zekere mate van beveiliging, maar de opslag wordt niet beschermd door mechanismen zoals immutable storage, wat een aanzienlijke zwakte is in de context van moderne cyberdreigingen zoals ransomware-aanvallen. Zonder immutable storage kunnen back-ups worden gemanipuleerd of verwijderd.

Daarnaast beschikt Forvis Mazars over een Kubernetes-cluster dat verschillende pods draait, die verschillende taken uitvoeren, waaronder het back-uppen van databases. Door de flexibele aard van Kubernetes kunnen processen zoals het back-uppen eenvoudig geautomatiseerd worden, bijvoorbeeld door middel van CronJobs. Deze mogelijkheid wordt echter niet benut binnen de bestaande back-upstrategie. Het Python-script dat wordt gebruikt voor de handmatige back-ups kan worden aangepast en geautomatiseerd via Kubernetes CronJobs, wat zou zorgen voor een veel efficiëntere en betrouwbaardere back-upstrategie.

De huidige setup van Forvis Mazars biedt een basisinfrastructuur voor databaseback-ups, maar heeft belangrijke tekortkomingen op het gebied van automatisering, beveiliging en herstel. De afwezigheid van immutable storage maakt de back-ups kwetsbaar voor moderne cyberdreigingen, terwijl het gebrek aan geautomatiseerde handmatige back-ups de betrouwbaarheid van het systeem vermindert. De bestaande strategie biedt ruimte voor aanzienlijke verbetering door te focussen op meer geavanceerde back-uptechnieken, zoals het implementeren van immutable storage, het verbeteren van de opslagbeveiliging, en het automatiseren van handmatige back-ups via Kubernetes en geoptimaliseerde CronJobs.
\section{Mogelijke bijkomende verbeteringen voor de back-upstrategie}
De volgende tools en verbeteringen zouden nog extra kunnen worden geïmplementeerd:

\begin{itemize}
    \item \textbf{Automatisering}: Het manuele back-upscript kan worden geautomatiseerd met tools zoals Azure Automation of Logic Apps.
    \item \textbf{Incrementele en Differentiële Back-ups}: Het implementeren van incrementele of differentiële back-ups kan opslagkosten verlagen en het herstel versnellen.
    \item \textbf{Back-upretentie}: Een uitgebreider retentiebeleid kan zorgen voor langere bewaartermijnen voor wekelijkse en maandelijkse back-ups.
    \item \textbf{Beveiliging}: Immutable storage kan worden toegepast om back-ups te beschermen tegen ransomware-aanvallen.
    \item \textbf{Hersteltesten}: Periodieke hersteltests kunnen de effectiviteit van de back-ups garanderen.
    \item \textbf{Monitoring en Rapportage}: Azure Monitor of Log Analytics kan helpen bij het monitoren van back-ups en het genereren van rapporten.
\end{itemize}